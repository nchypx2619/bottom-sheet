/*
 * Bottom Sheet
 * Version: 1.0
 * Author: nchypx2619
 * License: MIT
 * Description: Trigger all components to visible bottom-sheet on bottom in page. âœ¨ (https://github.com/nchypx2619/bottom-sheet)
 */
jQuery.fn.extend({bottomSheet:function(e){return this.each(function(){let t="bottomsheet";this.id&&(t=`${this.id}-${t}`);let o=document.getElementById(t),l=document.getElementById("sheet-bottom-togle-btn"),n=null!==document.getElementById(t),d=null,i=null,s=null,a=null,r=!1,c=e=>e.touches||e.originalEvent.touches,m=e=>{let t=c(e)[0];d=t.clientY},u=e=>{a&&(a=s),null===a&&s&&(a=s),s=e.touches[0].clientY,a&&(r=a>s);let o=d-s;o>0||(document.querySelector(`#${t} .modal-dialog`).style.bottom=`${o}px`)},h=e=>{let o=document.querySelector(`#${t} .modal-dialog`)?.offsetTop;i=e.changedTouches[0].clientY,d&&i<o||r?document.querySelector(`#${t} .modal-dialog`).style.bottom="0px":(document.querySelector(`#${t} .modal-dialog`).style.bottom="-100%",setTimeout(()=>{$(`#${t}`).modal("hide")},100)),d=null,i=null,s=null,a=null,r=!1},v=()=>$(o).modal("show");if("object"==typeof e){if(e.content&&!n&&$(document.body).append(`<div class="modal sheet-bottom fade" id="${t}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><div id="sheet-bottom-togle-btn" class="w-100 text-center" ><svg width="41" height="4" viewBox="0 0 41 4" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" width="40" height="4" rx="2" fill="#E2E3E5"/></svg></div></div><div class="modal-body">${e.content}</div></div></div></div>`),!n){function g(e){let o=document.querySelector(`#${t} .modal-dialog`)?.offsetTop,l=e.touches[0]?.clientY??e.originalEvent.touches[0]?.clientY;if(l>o)return!1;h(e)}null===o&&(o=document.getElementById(t)),o.addEventListener("shown.bs.modal",function(){document.querySelector(`#${t} .modal-dialog`).style.bottom="0px"}),o.addEventListener("touchstart",g),null===l&&(l=document.getElementById("sheet-bottom-togle-btn")),l.addEventListener("touchstart",m),l.addEventListener("touchmove",u),l.addEventListener("touchend",h),this.addEventListener("click",v)}}else"string"==typeof e&&"destroy"===e&&(this.removeEventListener("click",v),o.removeEventListener("touchstart",g),l.removeEventListener("touchstart",m),l.removeEventListener("touchmove",u),l.removeEventListener("touchend",h),document.getElementById(t).remove(),document.querySelector(`${t}`).remove())})}});
