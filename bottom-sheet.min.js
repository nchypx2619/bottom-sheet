/*
 * Bottom Sheet
 * Version: 1.0
 * Author: nchypx2619
 * License: MIT
 * Description: Trigger all components to visible bottom-sheet on bottom in page. âœ¨ (https://github.com/nchypx2619/bottom-sheet)
 */
jQuery.fn.extend({bottomSheet:function(e){return this.each(function(){let t="bottomsheet";this.id&&(t=`${this.id}-${t}`);let o=document.getElementById(t),l=document.getElementById(`${this.id}-${t}-toggle-btn`),d=null!==document.getElementById(t),n=null,i=null,s=null,a=null,c=!1,r=e=>e.touches||e.originalEvent.touches,h=e=>{let t=r(e)[0];n=t.clientY},m=e=>{a&&(a=s),null===a&&s&&(a=s),s=e.touches[0].clientY,a&&(c=a>s);let o=n-s;o>0||(document.querySelector(`#${t} .modal-dialog`).style.bottom=`${o}px`)},u=e=>{let o=document.querySelector(`#${t} .modal-dialog`)?.offsetTop;i=e.changedTouches[0].clientY,n&&i<o||c?document.querySelector(`#${t} .modal-dialog`).style.bottom="0px":(document.querySelector(`#${t} .modal-dialog`).style.bottom="-100%",setTimeout(()=>{$(`#${t}`).modal("hide")},100)),n=null,i=null,s=null,a=null,c=!1},g=()=>{$(o).modal("show")};if("object"==typeof e){if(e.content&&!d&&$(document.body).append(`<div class="modal sheet-bottom fade" id="${t}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><div id="${this.id}-${t}-toggle-btn" class="bottom-sheet-toggle-btn w-100 text-center" ><svg width="41" height="4" viewBox="0 0 41 4" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" width="40" height="4" rx="2" fill="#E2E3E5"/></svg></div></div><div class="modal-body">${e.content}</div></div></div></div>`),!d){function v(e){let o=document.querySelector(`#${t} .modal-dialog`)?.offsetTop,l=e.touches[0]?.clientY??e.originalEvent.touches[0]?.clientY;if(l>o)return!1;u(e)}null===o&&(o=document.getElementById(t)),o.addEventListener("shown.bs.modal",function(){document.querySelector(`#${t} .modal-dialog`).style.bottom="0px"}),o.addEventListener("touchstart",v),null===l&&(l=document.getElementById(`${this.id}-${t}-toggle-btn`)),l.addEventListener("touchstart",h),l.addEventListener("touchmove",m),l.addEventListener("touchend",u)}$(this).on("click.toggle-bottom-sheet",g)}else"string"==typeof e&&"destroy"===e&&($(this).off("click.toggle-bottom-sheet"),d&&(o.removeEventListener("touchstart",v),l.removeEventListener("touchstart",h),l.removeEventListener("touchmove",m),l.removeEventListener("touchend",u),$(o).modal("hide"),document.getElementById(t).remove()))})}});
